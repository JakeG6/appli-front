{"ast":null,"code":"import _defineProperty from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jake/dev/appli/appli-front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jake/dev/appli/appli-front/src/UserSettings/ChangePassword.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Switch from '@material-ui/core/Switch';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nvar ChangePassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChangePassword, _Component);\n\n  function ChangePassword(props) {\n    var _this;\n\n    _classCallCheck(this, ChangePassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangePassword).call(this, props));\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.updatePassword = function (event) {\n      event.preventDefault();\n      var decoded = jwt_decode(localStorage.getItem('jwtToken'));\n      console.log(decoded);\n      axios({\n        method: 'put',\n        url: \"http://localhost:4242/updatepassword\",\n        data: {\n          oldPassword: _this.state.oldPassword,\n          newPassword: _this.state.newPassword,\n          username: decoded.name\n        },\n        headers: {\n          \"Authorization\": \"Bearer \" + localStorage.getItem('jwtToken')\n        }\n      }).then(function (response) {\n        console.log(\"good job\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      oldPassword: '',\n      newPassword: ''\n    };\n    _this.updatePassword = _this.updatePassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChangePassword, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Change Your Password\"), React.createElement(\"form\", {\n        onSubmit: this.updatePassword,\n        style: {\n          padding: 8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"component-simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Current Password\"), React.createElement(Input, {\n        id: \"component-simple\",\n        autoComplete: \"off\",\n        value: this.state.oldPassword,\n        onChange: this.handleChange('oldPassword'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"component-simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"New Password\"), React.createElement(Input, {\n        id: \"component-simple\",\n        autoComplete: \"off\",\n        value: this.state.newPassword,\n        onChange: this.handleChange('newPassword'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"Submit\",\n        color: \"secondary\",\n        variant: \"contained\",\n        label: \"create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n  }]);\n\n  return ChangePassword;\n}(Component);\n\nexport default ChangePassword;","map":{"version":3,"sources":["/Users/jake/dev/appli/appli-front/src/UserSettings/ChangePassword.js"],"names":["React","Component","axios","jwt_decode","FormControl","Grid","Input","InputLabel","AppBar","Button","Card","CardHeader","CardMedia","CardContent","CardActions","FormControlLabel","Menu","MenuItem","Switch","Tabs","Tab","Toolbar","ChangePassword","props","handleChange","name","event","setState","target","value","updatePassword","preventDefault","decoded","localStorage","getItem","console","log","method","url","data","oldPassword","state","newPassword","username","headers","then","response","catch","error","bind","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Switch from '@material-ui/core/Switch';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nclass ChangePassword extends Component {\n    constructor(props) {\n        super(props)\n        this.state={\n            oldPassword: '',\n            newPassword: ''\n        }\n        this.updatePassword = this.updatePassword.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n    }\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n      };\n\n    updatePassword = event => {\n        event.preventDefault();\n\n\n        let decoded = jwt_decode(localStorage.getItem('jwtToken'))\n        console.log(decoded)\n\n        axios({\n            method: 'put',\n            url: `http://localhost:4242/updatepassword`,\n            data: {\n                oldPassword: this.state.oldPassword,\n                newPassword: this.state.newPassword,\n                username: decoded.name\n            },\n            headers: {                \n                \"Authorization\": \"Bearer \" + localStorage.getItem('jwtToken')                 \n            }  \n            \n\n        })\n        .then(response => {                          \n            console.log(\"good job\")        \n        })\n        .catch((error) => {\n            console.log(error);\n            \n        });\n    }\n\n    render() {\n        return(\n            <div>\n                <h1>Change Your Password</h1>\n                <form onSubmit={this.updatePassword} style={{ padding: 8 }}>\n                    <Grid container>\n                        <Grid item xs={6}>\n                            <FormControl margin=\"normal\">\n                                <InputLabel htmlFor=\"component-simple\">Current Password</InputLabel>\n                                <Input id=\"component-simple\" autoComplete='off' \n                                value={this.state.oldPassword}  \n                                onChange={this.handleChange('oldPassword')} />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <FormControl margin=\"normal\">\n                                <InputLabel htmlFor=\"component-simple\">New Password</InputLabel>\n                                <Input id=\"component-simple\" autoComplete='off' \n                                value={this.state.newPassword}  \n                                onChange={this.handleChange('newPassword')} />\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Button type=\"Submit\" color=\"secondary\" variant=\"contained\" label=\"create\">Submit</Button> \n                        </Grid>\n                    </Grid>                                                   \n                </form>                          \n            </div>\n        ) \n    }\n}\n\nexport default ChangePassword"]},"metadata":{},"sourceType":"module"}